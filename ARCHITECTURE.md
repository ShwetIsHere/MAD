# SnackIt Architecture

## ğŸ—ï¸ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      MOBILE APP LAYER                        â”‚
â”‚                    (React Native + Expo)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚    Auth     â”‚  â”‚    Tabs     â”‚  â”‚   Recipe    â”‚        â”‚
â”‚  â”‚   Screens   â”‚  â”‚   Screens   â”‚  â”‚   Details   â”‚        â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚        â”‚
â”‚  â”‚  â€¢ Login    â”‚  â”‚  â€¢ Home     â”‚  â”‚  â€¢ Full     â”‚        â”‚
â”‚  â”‚  â€¢ Signup   â”‚  â”‚  â€¢ Grocery  â”‚  â”‚    Recipe   â”‚        â”‚
â”‚  â”‚             â”‚  â”‚  â€¢ Recipes  â”‚  â”‚  â€¢ Ingred.  â”‚        â”‚
â”‚  â”‚             â”‚  â”‚  â€¢ Meal     â”‚  â”‚  â€¢ Steps    â”‚        â”‚
â”‚  â”‚             â”‚  â”‚  â€¢ Profile  â”‚  â”‚  â€¢ Share    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚         â”‚                 â”‚                 â”‚               â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                           â”‚                                  â”‚
â”‚                           â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           CONTEXT & STATE MANAGEMENT                  â”‚  â”‚
â”‚  â”‚  â€¢ AuthContext (User session, login, logout)         â”‚  â”‚
â”‚  â”‚  â€¢ React Hooks (useState, useEffect, useContext)     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                           â”‚                                  â”‚
â”‚                           â–¼                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              UTILITY LAYER                            â”‚  â”‚
â”‚  â”‚  â€¢ Supabase Client                                    â”‚  â”‚
â”‚  â”‚  â€¢ API Helpers (ready for integration)               â”‚  â”‚
â”‚  â”‚  â€¢ Type Definitions                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â”‚ HTTPS/WSS
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    BACKEND LAYER                             â”‚
â”‚                  (Supabase Platform)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚  Authentication â”‚  â”‚   PostgreSQL    â”‚                  â”‚
â”‚  â”‚                 â”‚  â”‚    Database     â”‚                  â”‚
â”‚  â”‚  â€¢ Email/Pass   â”‚  â”‚                 â”‚                  â”‚
â”‚  â”‚  â€¢ OAuth        â”‚  â”‚  â€¢ profiles     â”‚                  â”‚
â”‚  â”‚  â€¢ Sessions     â”‚  â”‚  â€¢ groceries    â”‚                  â”‚
â”‚  â”‚  â€¢ JWT Tokens   â”‚  â”‚  â€¢ recipes      â”‚                  â”‚
â”‚  â”‚                 â”‚  â”‚  â€¢ favorites    â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â€¢ meal_plans   â”‚                  â”‚
â”‚                        â”‚  â€¢ shopping     â”‚                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚  â”‚   Row Level     â”‚                                        â”‚
â”‚  â”‚    Security     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚                 â”‚  â”‚   Real-time     â”‚                  â”‚
â”‚  â”‚  â€¢ User Isolationâ”‚  â”‚  Subscriptions  â”‚                  â”‚
â”‚  â”‚  â€¢ Data Privacy â”‚  â”‚                 â”‚                  â”‚
â”‚  â”‚  â€¢ Access Rules â”‚  â”‚  â€¢ Live Updates â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagrams

### User Authentication Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User   â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  Login  â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ Supabase â”‚
â”‚         â”‚        â”‚ Screen  â”‚        â”‚   Auth   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–²                                      â”‚
     â”‚                                      â”‚
     â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚   Auth   â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ Context  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚    Tabs    â”‚
                  â”‚  Screens   â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Recipe Matching Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User   â”‚â”€â”€â”€â”€â–¶â”‚ Groceries â”‚â”€â”€â”€â”€â–¶â”‚  Algorithm   â”‚
â”‚  Added   â”‚     â”‚  Screen   â”‚     â”‚              â”‚
â”‚ Grocery  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â€¢ Get Items  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚ â€¢ Match      â”‚
                                    â”‚ â€¢ Calculate  â”‚
                                    â”‚ â€¢ Sort       â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User   â”‚â—€â”€â”€â”€â”€â”‚  Recipes  â”‚â—€â”€â”€â”€â”€â”‚   Filtered   â”‚
â”‚   Sees   â”‚     â”‚  Screen   â”‚     â”‚   & Sorted   â”‚
â”‚ Matched  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   Recipes    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Meal Planning Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   User   â”‚â”€â”€â”€â”€â–¶â”‚ Meal Plan â”‚â”€â”€â”€â”€â–¶â”‚  Save to DB  â”‚
â”‚ Assigns  â”‚     â”‚  Screen   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  Recipe  â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
                       â”‚
                       â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ Generate List   â”‚
              â”‚                 â”‚
              â”‚ 1. Get Recipes  â”‚
              â”‚ 2. Get Ingred.  â”‚
              â”‚ 3. Aggregate    â”‚
              â”‚ 4. Save List    â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Shopping List  â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Database Schema Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    profiles    â”‚
â”‚                â”‚
â”‚ â€¢ id (PK)      â”‚â”€â”€â”€â”€â”€â”
â”‚ â€¢ email        â”‚     â”‚
â”‚ â€¢ full_name    â”‚     â”‚
â”‚ â€¢ dietary_pref â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
                       â”‚ user_id (FK)
                       â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚             â”‚             â”‚                 â”‚
         â–¼             â–¼             â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ groceries  â”‚  â”‚meal_plans  â”‚  â”‚favorites â”‚  â”‚shopping_list â”‚
â”‚            â”‚  â”‚            â”‚  â”‚          â”‚  â”‚              â”‚
â”‚â€¢ id (PK)   â”‚  â”‚â€¢ id (PK)   â”‚  â”‚â€¢ id (PK) â”‚  â”‚â€¢ id (PK)     â”‚
â”‚â€¢ user_id   â”‚  â”‚â€¢ user_id   â”‚  â”‚â€¢ user_id â”‚  â”‚â€¢ user_id     â”‚
â”‚â€¢ name      â”‚  â”‚â€¢ recipe_idâ”€â”¼â”€â”€â”¤â€¢ recipe  â”‚  â”‚â€¢ name        â”‚
â”‚â€¢ category  â”‚  â”‚â€¢ date      â”‚  â”‚  _id     â”‚  â”‚â€¢ quantity    â”‚
â”‚â€¢ quantity  â”‚  â”‚â€¢ meal_type â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚â€¢ expiry    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
                                     â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
                              â”‚             â”‚
                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
                       â”‚   recipes    â”‚â—€â”€â”€â”€â”€â”˜
                       â”‚              â”‚
                       â”‚ â€¢ id (PK)    â”‚
                       â”‚ â€¢ title      â”‚
                       â”‚ â€¢ cuisine    â”‚
                       â”‚ â€¢ difficulty â”‚
                       â”‚ â€¢ ingredientsâ”‚
                       â”‚ â€¢ instructionsâ”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Component Hierarchy

```
App Root (_layout.tsx)
â”‚
â”œâ”€â”€ AuthProvider (Context)
â”‚   â”‚
â”‚   â”œâ”€â”€ Authentication Required?
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ YES: (auth) Group
â”‚   â”‚   â”‚   â”œâ”€â”€ Login Screen
â”‚   â”‚   â”‚   â””â”€â”€ Signup Screen
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ NO: (tabs) Group
â”‚   â”‚       â”‚
â”‚   â”‚       â”œâ”€â”€ Tab Navigator
â”‚   â”‚       â”‚   â”œâ”€â”€ Home Tab (index)
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ QuickActions
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ RecentActivity
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ SuggestedRecipes
â”‚   â”‚       â”‚   â”‚
â”‚   â”‚       â”‚   â”œâ”€â”€ Groceries Tab
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ GroceryList
â”‚   â”‚       â”‚   â”‚   â”‚   â””â”€â”€ GroceryItem
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ AddGroceryModal
â”‚   â”‚       â”‚   â”‚
â”‚   â”‚       â”‚   â”œâ”€â”€ Recipes Tab
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ SearchBar
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ FilterButton
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ RecipeList
â”‚   â”‚       â”‚   â”‚   â”‚   â””â”€â”€ RecipeCard
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ FilterModal
â”‚   â”‚       â”‚   â”‚
â”‚   â”‚       â”‚   â”œâ”€â”€ Meal Plan Tab
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ WeekNavigator
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ MealGrid
â”‚   â”‚       â”‚   â”‚   â”‚   â””â”€â”€ MealSlot
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ShoppingListButton
â”‚   â”‚       â”‚   â”‚
â”‚   â”‚       â”‚   â””â”€â”€ Profile Tab
â”‚   â”‚       â”‚       â”œâ”€â”€ ProfileHeader
â”‚   â”‚       â”‚       â”œâ”€â”€ DietTypeSelector
â”‚   â”‚       â”‚       â”œâ”€â”€ AllergyManager
â”‚   â”‚       â”‚       â”œâ”€â”€ DislikeManager
â”‚   â”‚       â”‚       â””â”€â”€ CuisineSelector
â”‚   â”‚       â”‚
â”‚   â”‚       â””â”€â”€ Recipe Detail (/recipe/[id])
â”‚   â”‚           â”œâ”€â”€ RecipeHeader
â”‚   â”‚           â”œâ”€â”€ QuickInfo
â”‚   â”‚           â”œâ”€â”€ NutritionInfo
â”‚   â”‚           â”œâ”€â”€ TabSelector
â”‚   â”‚           â”œâ”€â”€ IngredientsTab
â”‚   â”‚           â””â”€â”€ InstructionsTab
â”‚   â”‚
â”‚   â””â”€â”€ Other Screens
â”‚       â”œâ”€â”€ Barcode Scanner
â”‚       â””â”€â”€ Entry Point (index)
```

---

## ğŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Client Layer                       â”‚
â”‚                                                       â”‚
â”‚  â€¢ JWT Token Storage (AsyncStorage)                 â”‚
â”‚  â€¢ Secure HTTPS Connections                         â”‚
â”‚  â€¢ Environment Variables (.env)                     â”‚
â”‚  â€¢ Input Validation                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Encrypted
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Supabase Auth Layer                     â”‚
â”‚                                                       â”‚
â”‚  â€¢ JWT Token Verification                           â”‚
â”‚  â€¢ Session Management                               â”‚
â”‚  â€¢ Password Hashing (bcrypt)                        â”‚
â”‚  â€¢ OAuth Integration                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Authenticated
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Row Level Security (RLS)                   â”‚
â”‚                                                       â”‚
â”‚  SELECT: WHERE user_id = auth.uid()                 â”‚
â”‚  INSERT: CHECK user_id = auth.uid()                 â”‚
â”‚  UPDATE: WHERE user_id = auth.uid()                 â”‚
â”‚  DELETE: WHERE user_id = auth.uid()                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Authorized
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Database Layer                       â”‚
â”‚                                                       â”‚
â”‚  â€¢ User Data Isolation                              â”‚
â”‚  â€¢ Encrypted at Rest                                â”‚
â”‚  â€¢ Automatic Backups                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Navigation Structure

```
                    App Start
                        â”‚
                        â–¼
                  [AuthContext]
                        â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚                   â”‚
         Not Logged In       Logged In
              â”‚                   â”‚
              â–¼                   â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  (auth)  â”‚      â”‚   (tabs)    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                   â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚               â”‚   â”‚      â”‚      â”‚      â”‚        â”‚
   Login          Signup Home  Groc.  Rec. MealPl  Prof.
      â”‚               â”‚   â”‚      â”‚      â”‚      â”‚        â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚      â”‚      â–¼      â”‚        â”‚
              â”‚           â”‚      â”‚  [recipe]   â”‚        â”‚
              â”‚           â”‚      â”‚    :id      â”‚        â”‚
              â–¼           â”‚      â”‚             â”‚        â”‚
          [Success]       â”‚      â””â”€â”€[scanner]â”€â”€â”˜        â”‚
              â”‚           â”‚                             â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                      Protected
                       Routes
```

---

## ğŸš€ Performance Optimizations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Client-Side Optimizations             â”‚
â”‚                                                   â”‚
â”‚  â€¢ React.memo() for expensive components         â”‚
â”‚  â€¢ useMemo() for complex calculations            â”‚
â”‚  â€¢ useCallback() for function memoization        â”‚
â”‚  â€¢ Lazy loading for images                       â”‚
â”‚  â€¢ Virtualized lists for long lists              â”‚
â”‚  â€¢ Debouncing for search                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Database Optimizations                 â”‚
â”‚                                                   â”‚
â”‚  â€¢ Indexes on foreign keys                       â”‚
â”‚  â€¢ Indexes on frequently queried columns         â”‚
â”‚  â€¢ Efficient query patterns                      â”‚
â”‚  â€¢ Connection pooling                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Network Optimizations                 â”‚
â”‚                                                   â”‚
â”‚  â€¢ Batch API requests                            â”‚
â”‚  â€¢ Caching strategies                            â”‚
â”‚  â€¢ Optimistic UI updates                         â”‚
â”‚  â€¢ Real-time subscriptions                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ State Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Component   â”‚
â”‚   Renders    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   useState   â”‚â”€â”€â”€â”€â–¶â”‚   useEffect  â”‚
â”‚   (Local)    â”‚     â”‚  (Side Fx)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚
       â”‚                     â–¼
       â”‚             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚             â”‚  API Call    â”‚
       â”‚             â”‚  (Supabase)  â”‚
       â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                     â”‚
       â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useContext   â”‚â—€â”€â”€â”€â”€â”‚    Update    â”‚
â”‚  (Global)    â”‚     â”‚    State     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Re-render  â”‚
â”‚  Components  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

This architecture provides:
- âœ… **Scalability**: Easy to add features
- âœ… **Maintainability**: Clear separation of concerns
- âœ… **Security**: Multiple layers of protection
- âœ… **Performance**: Optimized at every layer
- âœ… **User Experience**: Fast and responsive
